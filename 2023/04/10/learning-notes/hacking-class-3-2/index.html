<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>道德駭客實務入門-4/8課程筆記-2 | Maochun's blog</title><meta name="author" content="Maochun"><meta name="copyright" content="Maochun"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="The class on 4&#x2F;8 introduced web server hacking, web application hacking and database injection. This note is about web application hacking.">
<meta property="og:type" content="article">
<meta property="og:title" content="道德駭客實務入門-4&#x2F;8課程筆記-2">
<meta property="og:url" content="https://maochuns.github.io/2023/04/10/learning-notes/hacking-class-3-2/index.html">
<meta property="og:site_name" content="Maochun&#39;s blog">
<meta property="og:description" content="The class on 4&#x2F;8 introduced web server hacking, web application hacking and database injection. This note is about web application hacking.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://maochuns.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2023-04-10T08:00:19.000Z">
<meta property="article:modified_time" content="2023-07-01T03:56:54.850Z">
<meta property="article:author" content="Maochun">
<meta property="article:tag" content="Hacking">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://maochuns.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://maochuns.github.io/2023/04/10/learning-notes/hacking-class-3-2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-EYL9WL79YX"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-EYL9WL79YX');</script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-EYL9WL79YX');
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '道德駭客實務入門-4/8課程筆記-2',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-01 11:56:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://blog.langgo.app/archives/"><i class="fa-fw fas fa-link"></i><span> Kevin's Blog</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Maochun's blog"><span class="site-name">Maochun's blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://blog.langgo.app/archives/"><i class="fa-fw fas fa-link"></i><span> Kevin's Blog</span></a></div><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">道德駭客實務入門-4/8課程筆記-2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-04-10T08:00:19.000Z" title="Created 2023-04-10 16:00:19">2023-04-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-07-01T03:56:54.850Z" title="Updated 2023-07-01 11:56:54">2023-07-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Learning-notes/">Learning notes</a></span></div><div class="meta-secondline"></div></div></div><article class="post-content" id="article-container"><p><a target="_blank" rel="noopener" href="https://www.tibame.com/offline/ceh">TibaMe: 道德駭客實務入門及CEH認證班</a><br>Teacher: 林煌錡 (Alex Lin)<br><img src="/img/hacking-class/hacking-class-info.png"></p>
<blockquote>
<p>The class on 4&#x2F;8 introduced web server hacking, web application hacking and database injection. I separated the contents into three parts. This note is about web application hacking.</p>
</blockquote>
<p><font style="font-size: 30px;font-weight:bold;">Part2: Web application hacking</font></p>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="OWASP-“Web-Security”-vs-“API-security”"><a href="#OWASP-“Web-Security”-vs-“API-security”" class="headerlink" title="OWASP “Web Security” vs “API security”"></a>OWASP “Web Security” vs “API security”</h2><p>The answers below is from ChatGPT and it’s very accurate.<br>OWASP (Open Web Application Security Project) is a nonprofit organization that provides resources and guidance on best practices for securing web applications and APIs. While web applications and APIs share many common security principles, there are some differences between the two.</p>
<p>OWASP Web Security focuses on securing traditional web applications, such as those built with HTML, CSS, and JavaScript. This includes securing the web server, web application framework, user authentication and authorization, and preventing common web application attacks such as cross-site scripting (XSS) and SQL injection.</p>
<p>OWASP API Security, on the other hand, focuses on securing APIs (Application Programming Interfaces), which are used to allow different software applications to communicate with each other. This includes securing the API server, handling authentication and authorization, and preventing common API vulnerabilities such as injection attacks, broken access control, and insufficient logging and monitoring.</p>
<p><strong>In general, web applications are designed to be accessed through a browser and provide a user interface for interacting with the application, while APIs are designed for programmatic access and allow different software applications to communicate with each other.</strong> This means that while web applications and APIs share many common security principles, there are some differences in the specific security considerations that need to be taken into account when securing each type of application.</p>
<blockquote>
<p><span style="color:red;font-size: 18px"><strong>真心建議每一位Server開發者都仔細閱讀 OWASP</strong> <br /> <strong>“Web Security Top10” and “API Security Top10”。</strong> <br />漏洞可以用工具掃瞄，但設計上的缺陷是掃瞄不出來的。 </span></p>
</blockquote>
<h1 id="OWASP-Web-Security-Top-10"><a href="#OWASP-Web-Security-Top-10" class="headerlink" title="OWASP Web Security Top 10"></a>OWASP Web Security Top 10</h1><table>
<thead>
<tr>
<th align="left">2017</th>
<th align="left"></th>
</tr>
</thead>
<tbody><tr>
<td align="left">A1:2017 Injection (注入攻擊)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A2:2017 Broken Authentication (無效的身分驗證)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A3:2017 Sensitive Data Exposure (敏感資料外洩)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A4:2017 XML External Entity (XXE XML 外部處理器弱點)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A5:2017 Broken Access Control (無效的存取控管)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A6:2017 Security Misconfiguration (不安全的組態設定)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A7:2017 Cross-Site Scripting (XSS) (跨站腳本攻擊)</td>
<td align="left">前端攻擊</td>
</tr>
<tr>
<td align="left">A8:2017 Insecure Deserialization (不安全的反序列化弱點)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A9:2017 Using Components With Known Vulnerabilities (使用已知漏洞元件)</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">A10:2017 Insufficient Logging and Monitoring (記錄與監控不足)</td>
<td align="left"></td>
</tr>
</tbody></table>
<p><strong>2017 &#x3D;&gt; 2021 from OWASP official site</strong><br><img src="/img/hacking-class/owasp.png"></p>
<table>
<thead>
<tr>
<th align="left">2022 new items</th>
</tr>
</thead>
<tbody><tr>
<td align="left">A04:2021 Insecure Design (不安全設計)</td>
</tr>
<tr>
<td align="left">A08:2021 Software and Data Integrity Failures (軟體及資料完整性失效)</td>
</tr>
<tr>
<td align="left">A10:2021 Server-Side Request Forgery (SSRF) (伺服端請求偽造)</td>
</tr>
</tbody></table>
<h2 id="🔸-A1-2017-Injection-注入攻擊"><a href="#🔸-A1-2017-Injection-注入攻擊" class="headerlink" title="🔸 A1:2017 Injection (注入攻擊)"></a>🔸 A1:2017 Injection (注入攻擊)</h2><h3 id="Command-Injection"><a href="#Command-Injection" class="headerlink" title="Command Injection"></a>Command Injection</h3><ul>
<li><p>Server端處理 user input 時如果使用System call，又沒有過濾 input data，就有可能執行了不該執行的command.<br>Hacker can use the linux operators to execute multiple commands, e.g. |, ; , ||, &amp;&amp; .</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l `|` <span class="built_in">wc</span> -lwc | </span><br><span class="line"><span class="built_in">cat</span> test.txt ; <span class="built_in">mkdir</span> mydir ; <span class="built_in">cd</span> Download |</span><br><span class="line"><span class="built_in">mkdir</span> mydir &amp;&amp; <span class="built_in">cd</span> mydir</span><br><span class="line"><span class="built_in">cat</span> test1.txt || <span class="built_in">cat</span> test2.txt</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="left">System calls in Django</th>
</tr>
</thead>
<tbody><tr>
<td align="left">subprocess.call</td>
</tr>
<tr>
<td align="left">subprocess.run</td>
</tr>
<tr>
<td align="left">subprocess.popen</td>
</tr>
<tr>
<td align="left">subprocess.check_output</td>
</tr>
<tr>
<td align="left">os.system</td>
</tr>
</tbody></table>
</li>
<li><p>防禦方法<br>我覺得最直接的方法就是Server端處理user input時不要使用System call.<br>Prevention from <a target="_blank" rel="noopener" href="https://www.imperva.com/learn/application-security/command-injection/">Imperva.com</a><br><img src="/img/hacking-class/prevent-cmd-inj.png"></p>
</li>
<li><p>課堂練習1</p>
</li>
</ul>
<p><img src="/img/hacking-class/cmd-inj-low.png"></p>
<h3 id="SQL-Injection"><a href="#SQL-Injection" class="headerlink" title="SQL Injection"></a>SQL Injection</h3><p>In part 3.</p>
<h3 id="LDAP-Injection"><a href="#LDAP-Injection" class="headerlink" title="LDAP Injection"></a>LDAP Injection</h3><p>…</p>
<h3 id="Useful-Hacking-Technology-🔥"><a href="#Useful-Hacking-Technology-🔥" class="headerlink" title="Useful Hacking Technology 🔥"></a>Useful Hacking Technology 🔥</h3><p>各種hacking和injection大全： <a target="_blank" rel="noopener" href="https://github.com/swisskyrepo/PayloadsAllTheThings">https://github.com/swisskyrepo/PayloadsAllTheThings</a> 非常詳細，有提供各種hacking腳本。</p>
<h2 id="🔸-A2-2017-Broken-Authentication-無效的身分驗證"><a href="#🔸-A2-2017-Broken-Authentication-無效的身分驗證" class="headerlink" title="🔸 A2:2017 Broken Authentication (無效的身分驗證)"></a>🔸 A2:2017 Broken Authentication (無效的身分驗證)</h2><p>我覺得對於駭客而言，找漏洞繞過驗證，遠比暴力破解密碼有效率的多。<br>漏洞介紹：<a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10216516">https://ithelp.ithome.com.tw/articles/10216516</a><br>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api2-broken-authentication.htm">https://apisecurity.io/encyclopedia/content/owasp/api2-broken-authentication.htm</a></p>
<h2 id="🔸-A3-2017-Sensitive-Data-Exposure-敏感資料外洩"><a href="#🔸-A3-2017-Sensitive-Data-Exposure-敏感資料外洩" class="headerlink" title="🔸 A3:2017 Sensitive Data Exposure (敏感資料外洩)"></a>🔸 A3:2017 Sensitive Data Exposure (敏感資料外洩)</h2><p>下面兩個漏洞都是利用記憶體洩漏來竊取有用資訊。</p>
<h3 id="Heart-Bleed-CVE-2014-0160"><a href="#Heart-Bleed-CVE-2014-0160" class="headerlink" title="Heart Bleed CVE-2014-0160"></a>Heart Bleed CVE-2014-0160</h3><p>算是比較舊的漏洞。<br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Heartbleed">Heart Bleed Wiki</a><br>這裡有檢測方法：<a target="_blank" rel="noopener" href="https://github.com/0x90/CVE-2014-0160">https://github.com/0x90/CVE-2014-0160</a></p>
<h3 id="NginX-CVE-2017-7529"><a href="#NginX-CVE-2017-7529" class="headerlink" title="NginX CVE-2017-7529"></a>NginX CVE-2017-7529</h3><p>漏洞利用方法：<a target="_blank" rel="noopener" href="https://github.com/liusec/CVE-2017-7529">https://github.com/liusec/CVE-2017-7529</a><br>影响版本：Nginx version 0.5.6 - 1.13.2<br>Check NginX command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nginx -v</span><br></pre></td></tr></table></figure>
<p>No need to worry about the issue if you use the latest NginX version.</p>
<h2 id="🔸-A4-2017-XML-External-Entity-XXE-XML-外部處理器弱點"><a href="#🔸-A4-2017-XML-External-Entity-XXE-XML-外部處理器弱點" class="headerlink" title="🔸 A4:2017 XML External Entity (XXE XML 外部處理器弱點)"></a>🔸 A4:2017 XML External Entity (XXE XML 外部處理器弱點)</h2><p>Server使用xml格式傳送資料，如果沒有禁用ENTITY的話，駭客就有可能將ENTITY注入封包回傳server，得到有用資訊。<br>I think most of the servers use JSON format now. If the server uses JSON, no need to worry about this.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ENTITY xxe SYSTEM <span class="string">&quot;file:///etc/passwd&quot;</span>&gt;</span><br></pre></td></tr></table></figure>
<p>具體攻擊方法可以參考果核數位這篇：<a target="_blank" rel="noopener" href="https://www.digicentre.com.tw/industry_detail?id=38">https://www.digicentre.com.tw/industry_detail?id=38</a></p>
<h2 id="🔸-A5-2017-Broken-Access-Control-無效的存取控管"><a href="#🔸-A5-2017-Broken-Access-Control-無效的存取控管" class="headerlink" title="🔸 A5:2017 Broken Access Control (無效的存取控管)"></a>🔸 A5:2017 Broken Access Control (無效的存取控管)</h2><p>沒有控制好server上的檔案存取權限的話，駭客就有可能用 LFI(Local File Inclusion)取的檔案內容，比如Config檔案竊取帳密，或是上傳惡意腳本並執行已取得server控制權。<br>You can find more details regarding the “CVE-2022-29597: Local File Inclusion” at <a target="_blank" rel="noopener" href="https://github.com/TheGetch/CVE-2022-29597">https://github.com/TheGetch/CVE-2022-29597</a><br>我覺得使用Docker可以起到一定的防護。</p>
<h2 id="🔸-A6-2017-Security-Misconfiguration-不安全的組態設定"><a href="#🔸-A6-2017-Security-Misconfiguration-不安全的組態設定" class="headerlink" title="🔸 A6:2017 Security Misconfiguration (不安全的組態設定)"></a>🔸 A6:2017 Security Misconfiguration (不安全的組態設定)</h2><p>只要server上的應用程式、伺服器或平台本身設定有問題，就有可能被攻擊或被竊取資訊。<br>案例：IBM 沒有管控好網頁服務上的log檔案，攻擊者找到有用的雲端服務認證資訊。<br>推薦閱讀 <a target="_blank" rel="noopener" href="https://3bodymo.medium.com/how-i-hacked-ibm-and-got-full-access-on-many-services-ecf1dab4a054">https://3bodymo.medium.com/how-i-hacked-ibm-and-got-full-access-on-many-services-ecf1dab4a054</a> ，該文章作者成功從IBM的server log中取得IBM的一些認證資訊, e.g. AWS, gitlab, Jenkins…</p>
<h2 id="🔸-A7-2017-Cross-Site-Scripting-XSS-跨站腳本攻擊-🔥"><a href="#🔸-A7-2017-Cross-Site-Scripting-XSS-跨站腳本攻擊-🔥" class="headerlink" title="🔸 A7:2017 Cross-Site Scripting (XSS) (跨站腳本攻擊) 🔥"></a>🔸 A7:2017 Cross-Site Scripting (XSS) (跨站腳本攻擊) 🔥</h2><p><span style="color:red;font-size: 18px"><strong>這是十種攻擊中唯一的前端攻擊，主要攻擊前端瀏覽網頁的用戶。</strong></span><br>在網頁中注入腳本，這個腳本就會被所有瀏覽網頁的瀏覽器執行。感覺這是一個門檻很低又行之有效的攻擊手法。這類攻擊不太好防。</p>
<ul>
<li><p>被動注入<br>在別人網頁的留言板中注入惡意腳本，所有瀏覽網頁的用戶都中招。</p>
</li>
<li><p>主動注入<br>在自己的網頁中注入惡意腳本，這就是惡意網站了，把網站link寄給受害者，受害者點開就中招。<br>Demo web page i created:  <a target="_blank" rel="noopener" href="http://maochun.rojak.fun/2023/04/13/learning-notes/xss-test-page/">http://maochun.rojak.fun/2023/04/13/learning-notes/xss-test-page/</a> 打開就會執行腳本<code>&lt;script&gt;alert(document.cookie)&lt;/script&gt;</code>(沒有惡意腳本)</p>
</li>
<li><p>課堂練習<br>靶機網頁上有一個輸入框，輸入 <code>&lt;script&gt;alert(document.cookie)&lt;/script&gt;</code> ， 按下submit輸入的腳本被執行。<br><img src="/img/hacking-class/xss-attack-1.png"><br><img src="/img/hacking-class/xss-attack-2.png"></p>
</li>
<li><p>XSS Wiki<br><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Cross-site_scripting">https://en.wikipedia.org/wiki/Cross-site_scripting</a></p>
</li>
</ul>
<h2 id="🔸-A8-2017-Insecure-Deserialization-不安全的反序列化弱點-•-🔥"><a href="#🔸-A8-2017-Insecure-Deserialization-不安全的反序列化弱點-•-🔥" class="headerlink" title="🔸 A8:2017 Insecure Deserialization (不安全的反序列化弱點) •  🔥"></a>🔸 A8:2017 Insecure Deserialization (不安全的反序列化弱點) •  🔥</h2><p>序列化和反序列化在現在server的開發中非常常用。Django架構中REST Framework就是使用Serialization &amp; deserialization.<br>看了這篇 <a target="_blank" rel="noopener" href="https://medium.com/gdg-vit/deserialization-attacks-d312fbe58e7d">https://medium.com/gdg-vit/deserialization-attacks-d312fbe58e7d</a><br>提到 insecure deserialization statement like</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Insecure deserialization</span></span><br><span class="line">user = pickle.loads(serialized_obj)</span><br></pre></td></tr></table></figure>
<p>⭐ 之後打算去自己的server中找找看有沒有不安全的反序列化。<br>我覺得這個弱點很容易被忽略。</p>
<p>推薦閱讀<br><a target="_blank" rel="noopener" href="https://portswigger.net/web-security/deserialization">https://portswigger.net/web-security/deserialization</a><br><a target="_blank" rel="noopener" href="https://ithelp.ithome.com.tw/articles/10250483">https://ithelp.ithome.com.tw/articles/10250483</a></p>
<p>案例：Microsoft Exchange Proxylogon<br><a target="_blank" rel="noopener" href="https://www.cc.ntu.edu.tw/chinese/epaper/0057/20210620_5706.html">https://www.cc.ntu.edu.tw/chinese/epaper/0057/20210620_5706.html</a> (漏洞基本介紹)<br><a target="_blank" rel="noopener" href="https://hackmd.io/@1chig0/rkzZhA5Hd">https://hackmd.io/@1chig0/rkzZhA5Hd</a>  (有攻擊做法詳解)<br>我真的覺得微軟的東西漏洞太多。</p>
<h2 id="🔸-A9-2017-Using-Components-With-Known-Vulnerabilities-使用已知漏洞元件"><a href="#🔸-A9-2017-Using-Components-With-Known-Vulnerabilities-使用已知漏洞元件" class="headerlink" title="🔸 A9:2017 Using Components With Known Vulnerabilities (使用已知漏洞元件)"></a>🔸 A9:2017 Using Components With Known Vulnerabilities (使用已知漏洞元件)</h2><p>現在Server開發多少都會用到第三方元件，如果元件本身含有漏洞，Server就可能因此被攻擊。<br>不使用第三方元件的話，一是開發進度緩慢，二是你也不能保證自己寫的沒漏洞。<br>我的想法是盡量使用用戶數多名氣大的第三方元件，有漏洞的話會比較快被發現和修補。當然要避免使用漏洞太多，或含有惡意腳本的第三方元件。</p>
<p>案例：FCKeditor 使用量很大的文字編輯器<br><a target="_blank" rel="noopener" href="https://www.acunetix.com/vulnerabilities/web/fckeditor-arbitrary-file-upload/">https://www.acunetix.com/vulnerabilities/web/fckeditor-arbitrary-file-upload/</a><br><a target="_blank" rel="noopener" href="https://brucebin.pixnet.net/blog/post/56799578">https://brucebin.pixnet.net/blog/post/56799578</a><br><a target="_blank" rel="noopener" href="http://www.netqna.com/2014/03/fckeditor.html">http://www.netqna.com/2014/03/fckeditor.html</a></p>
<h2 id="🔸-A10-2017-Insufficient-Logging-and-Monitoring-記錄與監控不足"><a href="#🔸-A10-2017-Insufficient-Logging-and-Monitoring-記錄與監控不足" class="headerlink" title="🔸 A10:2017 Insufficient Logging and Monitoring (記錄與監控不足)"></a>🔸 A10:2017 Insufficient Logging and Monitoring (記錄與監控不足)</h2><p>這個部分非常重要，這個大家都懂。<br>可以參考：<a target="_blank" rel="noopener" href="https://owasp.org/www-project-top-ten/2017/A10_2017-Insufficient_Logging%2526Monitoring">https://owasp.org/www-project-top-ten/2017/A10_2017-Insufficient_Logging%2526Monitoring</a> 做到更加完備。</p>
<h2 id="🔸-References"><a href="#🔸-References" class="headerlink" title="🔸 References:"></a>🔸 References:</h2><p><a target="_blank" rel="noopener" href="https://owasp.org/www-project-top-ten/2017/">https://owasp.org/www-project-top-ten/2017/</a><br><a target="_blank" rel="noopener" href="https://owasp.org/Top10/zh_TW/">https://owasp.org/Top10/zh_TW/</a></p>
<h1 id="OWASP-API-Security-Top-10"><a href="#OWASP-API-Security-Top-10" class="headerlink" title="OWASP API Security Top 10"></a>OWASP API Security Top 10</h1><table>
<thead>
<tr>
<th align="left">2019</th>
</tr>
</thead>
<tbody><tr>
<td align="left">API1:2019 Broken Object Level Authorization (不安全的物件授權)</td>
</tr>
<tr>
<td align="left">API2:2019 Broken User Authentication (無效的身分驗證)</td>
</tr>
<tr>
<td align="left">API3:2019 Excessive Data Exposure (資料暴露不當)</td>
</tr>
<tr>
<td align="left">API4:2019 Lack of Resources &amp; Rate Limiting (缺乏資源與速率存取的限制)</td>
</tr>
<tr>
<td align="left">API5:2019 Broken Function Level Authorization (無效功能權限控管)</td>
</tr>
<tr>
<td align="left">API6:2019 Mass Assignment (批量配置不當)</td>
</tr>
<tr>
<td align="left">API7:2019 Security Misconfiguration (安全配置錯誤)</td>
</tr>
<tr>
<td align="left">API8:2019 Injection (注入攻擊)</td>
</tr>
<tr>
<td align="left">API9:2019 Improper Assets Management(版本控管不當版本控管不當)</td>
</tr>
<tr>
<td align="left">API10:2019 Insufficient Logging &amp; Monitoring (記錄與監控不足)</td>
</tr>
</tbody></table>
<p>常用見的有 SOAP &amp; REST</p>
<h2 id="🔸-API1-2019-Broken-Object-Level-Authorization-不安全的物件授權-🔥"><a href="#🔸-API1-2019-Broken-Object-Level-Authorization-不安全的物件授權-🔥" class="headerlink" title="🔸 API1:2019 Broken Object Level Authorization (不安全的物件授權) 🔥"></a>🔸 API1:2019 Broken Object Level Authorization (不安全的物件授權) 🔥</h2><p>以下內容引用自：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api1-broken-object-level-authorization.htm">https://apisecurity.io/encyclopedia/content/owasp/api1-broken-object-level-authorization.htm</a></p>
<blockquote>
<p><img src="/img/hacking-class/owasp-api1.png"></p>
</blockquote>
<p>這個issue位列第一，可見有多常見和嚴重了。<br>這是一個讓我覺得我的server最急需改進的地方。</p>
<h2 id="🔸-API2-2019-Broken-User-Authentication-無效的身分驗證"><a href="#🔸-API2-2019-Broken-User-Authentication-無效的身分驗證" class="headerlink" title="🔸 API2:2019 Broken User Authentication (無效的身分驗證)"></a>🔸 API2:2019 Broken User Authentication (無效的身分驗證)</h2><p>身分驗證現在最常用也相對來說比較安全的是使用<strong>JWT</strong>.<br>可以參考：<a target="_blank" rel="noopener" href="https://portswigger.net/web-security/jwt">https://portswigger.net/web-security/jwt</a> 讓JWT做到真正的安全。</p>
<p>我覺得使用JWT要比較注意 refresh token 這個部分。<br>以下引用自：<a target="_blank" rel="noopener" href="https://pjchender.dev/webdev/note-jwt/">https://pjchender.dev/webdev/note-jwt/</a></p>
<blockquote>
<p><img src="/img/hacking-class/jwt-refresh.png"></p>
</blockquote>
<h2 id="🔸-API3-2019-Excessive-Data-Exposure-資料暴露不當"><a href="#🔸-API3-2019-Excessive-Data-Exposure-資料暴露不當" class="headerlink" title="🔸 API3:2019 Excessive Data Exposure (資料暴露不當)"></a>🔸 API3:2019 Excessive Data Exposure (資料暴露不當)</h2><p>這個簡單來講就是server端要過濾掉多餘又敏感的內容。有時候為了效能，Server一次把所有data丟到client app，讓client端過濾選取需要的內容，這樣的作法就讓駭客有機會拿到資料。不要覺得這很容易避免，Facebook就踩過這個坑，外洩了百萬user的個資。<br>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api3-excessive-data-exposure.htm">https://apisecurity.io/encyclopedia/content/owasp/api3-excessive-data-exposure.htm</a></p>
<p>案例：Facebook user data leak<br>News: <a target="_blank" rel="noopener" href="https://ctee.com.tw/news/global/440241.html">https://ctee.com.tw/news/global/440241.html</a></p>
<h2 id="🔸-API4-2019-Lack-of-Resources-amp-Rate-Limiting-缺乏資源與速率存取的限制"><a href="#🔸-API4-2019-Lack-of-Resources-amp-Rate-Limiting-缺乏資源與速率存取的限制" class="headerlink" title="🔸 API4:2019 Lack of Resources &amp; Rate Limiting (缺乏資源與速率存取的限制)"></a>🔸 API4:2019 Lack of Resources &amp; Rate Limiting (缺乏資源與速率存取的限制)</h2><p>server端要限制API存取速率，限制一定時間內的錯誤數量或是IP的位置…<br>不然會導致以下問題：</p>
<ul>
<li>駭客大量發送請求會導致API無法正常運作</li>
<li>駭客破解帳密</li>
</ul>
<p>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api4-lack-of-resources-and-rate-limiting.htm">https://apisecurity.io/encyclopedia/content/owasp/api4-lack-of-resources-and-rate-limiting.htm</a></p>
<p>案例：Instagram 密碼重設漏洞<br>以下引用自：<a target="_blank" rel="noopener" href="https://www.ithome.com.tw/news/131888">https://www.ithome.com.tw/news/131888</a></p>
<blockquote>
<p><img src="/img/hacking-class/ig-bug.png"></p>
</blockquote>
<p>利用了race condition 這個概念。<br>現在使用 TOTP codes(6個數字)做驗證很多，但我覺得不加限制的話，破解6個數字比破解密碼容易多了。<br>Instagram獎勵漏洞通報者30000美金 <a target="_blank" rel="noopener" href="https://www.acunetix.com/blog/web-security-zone/instagram-usd-30000-bounty/">https://www.acunetix.com/blog/web-security-zone/instagram-usd-30000-bounty/</a> 有使用漏洞影片</p>
<h2 id="🔸-API5-2019-Broken-Function-Level-Authorization-無效功能權限控管"><a href="#🔸-API5-2019-Broken-Function-Level-Authorization-無效功能權限控管" class="headerlink" title="🔸 API5:2019 Broken Function Level Authorization (無效功能權限控管)"></a>🔸 API5:2019 Broken Function Level Authorization (無效功能權限控管)</h2><p>API的權限控管有缺陷，比如一般使用者能夠使用管理員權限的功能的話就很危險。<br>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api5-broken-function-level-authorization">https://apisecurity.io/encyclopedia/content/owasp/api5-broken-function-level-authorization</a></p>
<h2 id="🔸-API6-2019-Mass-Assignment-批量配置不當"><a href="#🔸-API6-2019-Mass-Assignment-批量配置不當" class="headerlink" title="🔸 API6:2019 Mass Assignment (批量配置不當)"></a>🔸 API6:2019 Mass Assignment (批量配置不當)</h2><p>From Teacher Alex Lin’s PPT</p>
<blockquote>
<p>如果API自動將用戶端輸入的內容轉換為內部物件屬性，卻不考慮這些屬性的敏感度和可暴露度等級，攻擊者則可以非法更新不應該存取的內容。</p>
</blockquote>
<p>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api6-mass-assignment">https://apisecurity.io/encyclopedia/content/owasp/api6-mass-assignment</a></p>
<h2 id="🔸-API7-2019-Security-Misconfiguration-安全配置錯誤"><a href="#🔸-API7-2019-Security-Misconfiguration-安全配置錯誤" class="headerlink" title="🔸 API7:2019 Security Misconfiguration (安全配置錯誤)"></a>🔸 API7:2019 Security Misconfiguration (安全配置錯誤)</h2><p>內部使用的服務不要暴露在外網環境，e.g. DB、Redis、AWS s3、bucket.<br>Server內的DB, Redis之類不要有對外port.<br>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api7-security-misconfiguration">https://apisecurity.io/encyclopedia/content/owasp/api7-security-misconfiguration</a></p>
<h2 id="🔸-API8-2019-Injection-注入攻擊"><a href="#🔸-API8-2019-Injection-注入攻擊" class="headerlink" title="🔸 API8:2019 Injection (注入攻擊)"></a>🔸 API8:2019 Injection (注入攻擊)</h2><p>API和WEB一樣都要面對注入攻擊。<br>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api8-injection">https://apisecurity.io/encyclopedia/content/owasp/api8-injection</a></p>
<p>案例：CVE-2016-5641 Swagger Injection<br>Will study the case later. </p>
<h2 id="🔸-API9-2019-Improper-Assets-Management-版本控管不當版本控管不當"><a href="#🔸-API9-2019-Improper-Assets-Management-版本控管不當版本控管不當" class="headerlink" title="🔸 API9:2019 Improper Assets Management(版本控管不當版本控管不當)"></a>🔸 API9:2019 Improper Assets Management(版本控管不當版本控管不當)</h2><p>留下舊的有問題的API，就了留下隱患。<br>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api9-improper-assets-management">https://apisecurity.io/encyclopedia/content/owasp/api9-improper-assets-management</a></p>
<h2 id="🔸-API10-2019-Insufficient-Logging-amp-Monitoring-記錄與監控不足"><a href="#🔸-API10-2019-Insufficient-Logging-amp-Monitoring-記錄與監控不足" class="headerlink" title="🔸 API10:2019 Insufficient Logging &amp; Monitoring (記錄與監控不足)"></a>🔸 API10:2019 Insufficient Logging &amp; Monitoring (記錄與監控不足)</h2><p>弱點詳細和防護：<a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api10-insufficient-logging-and-monitoring">https://apisecurity.io/encyclopedia/content/owasp/api10-insufficient-logging-and-monitoring</a></p>
<h2 id="🔸-References-1"><a href="#🔸-References-1" class="headerlink" title="🔸 References:"></a>🔸 References:</h2><p><a target="_blank" rel="noopener" href="https://owasp.org/www-project-api-security/">https://owasp.org/www-project-api-security/</a><br>推薦 <a target="_blank" rel="noopener" href="https://apisecurity.io/encyclopedia/content/owasp/api1-broken-object-level-authorization">https://apisecurity.io/encyclopedia/content/owasp/api1-broken-object-level-authorization</a> 有針對每一條提出防護方法。</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hacking/">Hacking</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/04/10/learning-notes/hacking-class-3-3/" title="道德駭客實務入門-4/8課程筆記-3"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">道德駭客實務入門-4/8課程筆記-3</div></div></a></div><div class="next-post pull-right"><a href="/2023/04/10/learning-notes/hacking-class-3/" title="道德駭客實務入門-4/8課程筆記-1"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">道德駭客實務入門-4/8課程筆記-1</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2023/03/20/learning-notes/hacking-class-0/" title="道德駭客實務入門-課前準備"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-20</div><div class="title">道德駭客實務入門-課前準備</div></div></a></div><div><a href="/2023/03/20/learning-notes/hacking-class-1/" title="道德駭客實務入門-3&#x2F;18課程筆記"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-20</div><div class="title">道德駭客實務入門-3&#x2F;18課程筆記</div></div></a></div><div><a href="/2023/03/27/learning-notes/hacking-class-2/" title="道德駭客實務入門-3&#x2F;26課程筆記"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-27</div><div class="title">道德駭客實務入門-3&#x2F;26課程筆記</div></div></a></div><div><a href="/2023/04/10/learning-notes/hacking-class-3-3/" title="道德駭客實務入門-4&#x2F;8課程筆記-3"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-10</div><div class="title">道德駭客實務入門-4&#x2F;8課程筆記-3</div></div></a></div><div><a href="/2023/04/10/learning-notes/hacking-class-3/" title="道德駭客實務入門-4&#x2F;8課程筆記-1"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-10</div><div class="title">道德駭客實務入門-4&#x2F;8課程筆記-1</div></div></a></div><div><a href="/2023/04/17/learning-notes/hacking-class-4/" title="道德駭客實務入門-4&#x2F;15課程筆記"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-17</div><div class="title">道德駭客實務入門-4&#x2F;15課程筆記</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Maochun</div><div class="author-info__description">對酒當歌，人生幾何</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">17</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/MaochunS"><i class="fab fa-github"></i><span>My Github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:m20211222@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.linkedin.com/in/maochun-s-4318b11ba" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">1.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OWASP-%E2%80%9CWeb-Security%E2%80%9D-vs-%E2%80%9CAPI-security%E2%80%9D"><span class="toc-number">1.1.</span> <span class="toc-text">OWASP “Web Security” vs “API security”</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OWASP-Web-Security-Top-10"><span class="toc-number">2.</span> <span class="toc-text">OWASP Web Security Top 10</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A1-2017-Injection-%E6%B3%A8%E5%85%A5%E6%94%BB%E6%93%8A"><span class="toc-number">2.1.</span> <span class="toc-text">🔸 A1:2017 Injection (注入攻擊)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Command-Injection"><span class="toc-number">2.1.1.</span> <span class="toc-text">Command Injection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL-Injection"><span class="toc-number">2.1.2.</span> <span class="toc-text">SQL Injection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LDAP-Injection"><span class="toc-number">2.1.3.</span> <span class="toc-text">LDAP Injection</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Useful-Hacking-Technology-%F0%9F%94%A5"><span class="toc-number">2.1.4.</span> <span class="toc-text">Useful Hacking Technology 🔥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A2-2017-Broken-Authentication-%E7%84%A1%E6%95%88%E7%9A%84%E8%BA%AB%E5%88%86%E9%A9%97%E8%AD%89"><span class="toc-number">2.2.</span> <span class="toc-text">🔸 A2:2017 Broken Authentication (無效的身分驗證)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A3-2017-Sensitive-Data-Exposure-%E6%95%8F%E6%84%9F%E8%B3%87%E6%96%99%E5%A4%96%E6%B4%A9"><span class="toc-number">2.3.</span> <span class="toc-text">🔸 A3:2017 Sensitive Data Exposure (敏感資料外洩)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Heart-Bleed-CVE-2014-0160"><span class="toc-number">2.3.1.</span> <span class="toc-text">Heart Bleed CVE-2014-0160</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#NginX-CVE-2017-7529"><span class="toc-number">2.3.2.</span> <span class="toc-text">NginX CVE-2017-7529</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A4-2017-XML-External-Entity-XXE-XML-%E5%A4%96%E9%83%A8%E8%99%95%E7%90%86%E5%99%A8%E5%BC%B1%E9%BB%9E"><span class="toc-number">2.4.</span> <span class="toc-text">🔸 A4:2017 XML External Entity (XXE XML 外部處理器弱點)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A5-2017-Broken-Access-Control-%E7%84%A1%E6%95%88%E7%9A%84%E5%AD%98%E5%8F%96%E6%8E%A7%E7%AE%A1"><span class="toc-number">2.5.</span> <span class="toc-text">🔸 A5:2017 Broken Access Control (無效的存取控管)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A6-2017-Security-Misconfiguration-%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E7%B5%84%E6%85%8B%E8%A8%AD%E5%AE%9A"><span class="toc-number">2.6.</span> <span class="toc-text">🔸 A6:2017 Security Misconfiguration (不安全的組態設定)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A7-2017-Cross-Site-Scripting-XSS-%E8%B7%A8%E7%AB%99%E8%85%B3%E6%9C%AC%E6%94%BB%E6%93%8A-%F0%9F%94%A5"><span class="toc-number">2.7.</span> <span class="toc-text">🔸 A7:2017 Cross-Site Scripting (XSS) (跨站腳本攻擊) 🔥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A8-2017-Insecure-Deserialization-%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%BC%B1%E9%BB%9E-%E2%80%A2-%F0%9F%94%A5"><span class="toc-number">2.8.</span> <span class="toc-text">🔸 A8:2017 Insecure Deserialization (不安全的反序列化弱點) •  🔥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A9-2017-Using-Components-With-Known-Vulnerabilities-%E4%BD%BF%E7%94%A8%E5%B7%B2%E7%9F%A5%E6%BC%8F%E6%B4%9E%E5%85%83%E4%BB%B6"><span class="toc-number">2.9.</span> <span class="toc-text">🔸 A9:2017 Using Components With Known Vulnerabilities (使用已知漏洞元件)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-A10-2017-Insufficient-Logging-and-Monitoring-%E8%A8%98%E9%8C%84%E8%88%87%E7%9B%A3%E6%8E%A7%E4%B8%8D%E8%B6%B3"><span class="toc-number">2.10.</span> <span class="toc-text">🔸 A10:2017 Insufficient Logging and Monitoring (記錄與監控不足)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-References"><span class="toc-number">2.11.</span> <span class="toc-text">🔸 References:</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#OWASP-API-Security-Top-10"><span class="toc-number">3.</span> <span class="toc-text">OWASP API Security Top 10</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API1-2019-Broken-Object-Level-Authorization-%E4%B8%8D%E5%AE%89%E5%85%A8%E7%9A%84%E7%89%A9%E4%BB%B6%E6%8E%88%E6%AC%8A-%F0%9F%94%A5"><span class="toc-number">3.1.</span> <span class="toc-text">🔸 API1:2019 Broken Object Level Authorization (不安全的物件授權) 🔥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API2-2019-Broken-User-Authentication-%E7%84%A1%E6%95%88%E7%9A%84%E8%BA%AB%E5%88%86%E9%A9%97%E8%AD%89"><span class="toc-number">3.2.</span> <span class="toc-text">🔸 API2:2019 Broken User Authentication (無效的身分驗證)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API3-2019-Excessive-Data-Exposure-%E8%B3%87%E6%96%99%E6%9A%B4%E9%9C%B2%E4%B8%8D%E7%95%B6"><span class="toc-number">3.3.</span> <span class="toc-text">🔸 API3:2019 Excessive Data Exposure (資料暴露不當)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API4-2019-Lack-of-Resources-amp-Rate-Limiting-%E7%BC%BA%E4%B9%8F%E8%B3%87%E6%BA%90%E8%88%87%E9%80%9F%E7%8E%87%E5%AD%98%E5%8F%96%E7%9A%84%E9%99%90%E5%88%B6"><span class="toc-number">3.4.</span> <span class="toc-text">🔸 API4:2019 Lack of Resources &amp; Rate Limiting (缺乏資源與速率存取的限制)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API5-2019-Broken-Function-Level-Authorization-%E7%84%A1%E6%95%88%E5%8A%9F%E8%83%BD%E6%AC%8A%E9%99%90%E6%8E%A7%E7%AE%A1"><span class="toc-number">3.5.</span> <span class="toc-text">🔸 API5:2019 Broken Function Level Authorization (無效功能權限控管)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API6-2019-Mass-Assignment-%E6%89%B9%E9%87%8F%E9%85%8D%E7%BD%AE%E4%B8%8D%E7%95%B6"><span class="toc-number">3.6.</span> <span class="toc-text">🔸 API6:2019 Mass Assignment (批量配置不當)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API7-2019-Security-Misconfiguration-%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE%E9%8C%AF%E8%AA%A4"><span class="toc-number">3.7.</span> <span class="toc-text">🔸 API7:2019 Security Misconfiguration (安全配置錯誤)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API8-2019-Injection-%E6%B3%A8%E5%85%A5%E6%94%BB%E6%93%8A"><span class="toc-number">3.8.</span> <span class="toc-text">🔸 API8:2019 Injection (注入攻擊)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API9-2019-Improper-Assets-Management-%E7%89%88%E6%9C%AC%E6%8E%A7%E7%AE%A1%E4%B8%8D%E7%95%B6%E7%89%88%E6%9C%AC%E6%8E%A7%E7%AE%A1%E4%B8%8D%E7%95%B6"><span class="toc-number">3.9.</span> <span class="toc-text">🔸 API9:2019 Improper Assets Management(版本控管不當版本控管不當)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-API10-2019-Insufficient-Logging-amp-Monitoring-%E8%A8%98%E9%8C%84%E8%88%87%E7%9B%A3%E6%8E%A7%E4%B8%8D%E8%B6%B3"><span class="toc-number">3.10.</span> <span class="toc-text">🔸 API10:2019 Insufficient Logging &amp; Monitoring (記錄與監控不足)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%B8-References-1"><span class="toc-number">3.11.</span> <span class="toc-text">🔸 References:</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/09/APP%20Development/android-bluetooth/" title="Android Bluetooth App Development">Android Bluetooth App Development</a><time datetime="2023-10-09T01:29:18.000Z" title="Created 2023-10-09 09:29:18">2023-10-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/09/APP%20Development/ios-bluetooth/" title="iOS Bluetooth App Development">iOS Bluetooth App Development</a><time datetime="2023-10-09T01:27:56.000Z" title="Created 2023-10-09 09:27:56">2023-10-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/09/27/Projects/iOS-ARKit/" title="iOS ARKit Practice">iOS ARKit Practice</a><time datetime="2023-09-27T07:10:47.000Z" title="Created 2023-09-27 15:10:47">2023-09-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/08/16/APP%20Development/update-android-using-dfu/" title="Update the Android APP which uses nordic DFU">Update the Android APP which uses nordic DFU</a><time datetime="2023-08-16T10:10:39.000Z" title="Created 2023-08-16 18:10:39">2023-08-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/27/APP%20Development/development-computer/" title="工欲善其事，必先利其器 - 開發電腦及配件選擇">工欲善其事，必先利其器 - 開發電腦及配件選擇</a><time datetime="2023-07-27T06:34:41.000Z" title="Created 2023-07-27 14:34:41">2023-07-27</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Maochun</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://maochuns.github.io/2023/04/10/learning-notes/hacking-class-3-2/'
    this.page.identifier = '/2023/04/10/learning-notes/hacking-class-3-2/'
    this.page.title = '道德駭客實務入門-4/8課程筆記-2'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://maochun-rojak-fun.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }

  document.getElementById('darkmode').addEventListener('click', () => {
    setTimeout(() => window.disqusReset(), 200)
  })
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>